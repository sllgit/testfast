<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="stylesheet" href="/assets/css/jstree/style.min.css">
<link rel="stylesheet" href="/assets/css/auth-admin/auth_admin.css">
<!--D:\phpStudy\PHPTutorial\WWW\testfast\public\assets\css\modules\layer\default\layer.css-->
<link rel="stylesheet" href="/assets/css/layui.css">
<link rel="stylesheet" href="/assets/css/modules/layer/default/layer.css">
<div class="panel panel-default panel-intro">
    {:build_heading()}
    <div class="panel-body">
        <div id="leftbody">
            <div class="leftbody1">
                <div class="jia xian"></div><span class="spans" sid="{$servicedatas.area.id}">{$servicedatas.area['name']}</span>
                {volist name="$servicedatas.data" id="v"}
                <div class="one hide">
                    {if $v.son != []}
                    <div class="jia xiang"></div><span class="spans" sid="{$v.id}">{$v.name}</span>
                    {volist name="$v.son" id="vv"}
                    <div class="two hide">
                        <span class="spans" sid="{$vv.id}">{$vv.name}</span>
                    </div>
                    {/volist}
                    {else /}
                    <span class="spans" sid="{$v.id}">{$v.name}</span>
                    {/if}
                </div>
                {/volist}
                <div class="other">
                    {volist name="$servicedatas.other" id="v"}
                    <span class="spans" sid="{$v.id}">{$v.name}</span>
                    {/volist}
                </div>
            </div>
        </div>
        <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade active in" id="one">
                <!--<table>-->
                    <!--<tr class="titles">-->
                        <!--<td>序号</td>-->
                        <!--<td>账号</td>-->
                        <!--<td>姓名</td>-->
                        <!--<td>邮箱</td>-->
                        <!--<td>所属服务站</td>-->
                        <!--<td>角色</td>-->
                        <!--<td>状态</td>-->
                        <!--<td>最后登录时间</td>-->
                        <!--<td>操作</td>-->
                    <!--</tr>-->
                     <!--<tr class="contents">-->
                        <!--<td>1</td>-->
                        <!--<td>12346855214</td>-->
                        <!--<td>快快快</td>-->
                        <!--<td>22222222@qq.com</td>-->
                        <!--<td>小孙庄服务站</td>-->
                        <!--<td>大队支书</td>-->
                        <!--<td>正常</td>-->
                        <!--<td>2020-10-01 12:00:00</td>-->
                        <!--<td>-->
                            <!--<a href="#">修改</a>-->
                            <!--<a href="#">重置密码</a>-->
                            <!--<a href="#">删除</a>-->
                        <!--</td>-->
                    <!--</tr>-->
                <!--</table>-->
                <div class="demoTable">
                    搜索ID：
                    <div class="layui-inline">
                        <input class="layui-input" name="id" id="demoReload" autocomplete="off">
                    </div>
                    <button class="layui-btn" data-type="reload">搜索</button>
                </div>
                <table class="layui-hide" id="test"></table>
            </div>
        </div>
    </div>
</div>
<script src="/assets/js/jquery-3.4.1.min.js"></script>
<script src="/assets/js/jstree/jstree.min.js"></script>
<script src="/assets/js/layui.js" charset="utf-8"></script>
<script>
    layui.use('table', function(){
        var table = layui.table;

        table.render({
            elem: '#test'
            ,url:'/auth/admin/index'
            ,cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
            ,cols: [[
                {field:'id', width:80, title: 'ID', sort: true}
                ,{field:'username', width:80, title: '用户名'}
                ,{field:'sex', width:80, title: '性别', sort: true}
                // ,{field:'city', width:80, title: '城市'}
                // ,{field:'sign', title: '签名', width: '30%'} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
                // ,{field:'experience', title: '积分', sort: true}
                // ,{field:'score', title: '评分', sort: true}
                // ,{field:'classify', title: '职业'}
                // ,{field:'wealth', width:137, title: '财富', sort: true}
            ]]
            ,id: 'testReload'
        });
        var $ = layui.$, active = {
            reload: function(){
                var demoReload = $('#demoReload');

                //执行重载
                table.reload('testReload', {
                    // page: {
                    //     curr: 1 //重新从第 1 页开始
                    // },
                    where: {
                        key: {
                            id: demoReload.val()
                        }
                    }
                }, 'data');
            }
        };

        $('.demoTable .layui-btn').on('click', function(){
            var type = $(this).data('type');
            active[type] ? active[type].call(this) : '';
        });
    });
</script>